<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Scrollytelling Example</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #0a0a0a;
            color: white;
        }

        /* 1. FULL SCREEN HERO */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .hero h1 {
            font-size: 5rem;
            opacity: 0;
        }

        /* 2. PINNED SECTION - Element stays while you scroll */
        .pin-spacer-section {
            height: 300vh; /* 3x viewport height = long scroll */
            background: #1a1a2e;
        }

        .pinned-box {
            width: 300px;
            height: 300px;
            background: #ff6b6b;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
        }

        /* 3. STAGGERED ELEMENTS - Enter at different times */
        .stagger-section {
            height: 200vh;
            background: #16213e;
            position: relative;
        }

        .stagger-container {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2rem;
        }

        .stagger-item {
            font-size: 3rem;
            opacity: 0;
            transform: translateY(50px);
        }

        /* 4. FADE IN CARDS */
        .card-section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0f3460;
        }

        .card {
            width: 500px;
            padding: 3rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            opacity: 0;
            transform: translateY(100px);
        }

        .card h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #4ecca3;
        }

        /* 5. HORIZONTAL SCROLL */
        .horizontal-section {
            overflow: hidden;
        }

        .horizontal-container {
            display: flex;
            will-change: transform;
        }

        .panel {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .panel:nth-child(1) { background: #ee5a6f; }
        .panel:nth-child(2) { background: #f29263; }
        .panel:nth-child(3) { background: #f7cb68; }
        .panel:nth-child(4) { background: #95d5b2; }

        /* 6. COUNTER SECTION */
        .counter-section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .counter {
            font-size: 10rem;
            font-weight: bold;
        }

        /* FINAL */
        .final {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0a0a0a;
            font-size: 3rem;
        }
    </style>
</head>
<body>
    
    <!-- 1. HERO SECTION: Full screen fade in -->
    <section class="hero">
        <h1 id="hero-title">Scroll Down</h1>
    </section>

    <!-- 2. PINNED SECTION: Element stays in place while scrolling -->
    <section class="pin-spacer-section">
        <div id="pin-target" style="height: 100vh; display: flex; align-items: center; justify-content: center;">
            <div class="pinned-box" id="pinned-box">
                I'm Pinned!
            </div>
        </div>
    </section>

    <!-- 3. STAGGERED TEXT: Lines appear one by one -->
    <section class="stagger-section">
        <div class="stagger-container">
            <div class="stagger-item">First Line</div>
            <div class="stagger-item">Second Line</div>
            <div class="stagger-item">Third Line</div>
        </div>
    </section>

    <!-- 4. CARDS: Fade in from bottom -->
    <section class="card-section">
        <div class="card">
            <h2>Card One</h2>
            <p>Enters when it hits 80% of viewport</p>
        </div>
    </section>

    <section class="card-section">
        <div class="card">
            <h2>Card Two</h2>
            <p>Each card has its own trigger</p>
        </div>
    </section>

    <section class="card-section">
        <div class="card">
            <h2>Card Three</h2>
            <p>Smooth entrance animations</p>
        </div>
    </section>

    <!-- 5. HORIZONTAL SCROLL: Scroll horizontally through panels -->
    <section class="horizontal-section">
        <div class="horizontal-container">
            <div class="panel">Panel 1</div>
            <div class="panel">Panel 2</div>
            <div class="panel">Panel 3</div>
            <div class="panel">Panel 4</div>
        </div>
    </section>

    <!-- 6. COUNTER: Animates from 0 to 100 -->
    <section class="counter-section">
        <div class="counter" id="counter">0</div>
    </section>

    <!-- FINAL -->
    <section class="final">
        <h2>The End</h2>
    </section>

    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <script>
        // Register ScrollTrigger plugin
        gsap.registerPlugin(ScrollTrigger);

        // ========================================
        // 1. HERO: Fade in title on load
        // ========================================
        gsap.to("#hero-title", {
            opacity: 1,
            scale: 1,
            duration: 1.5,
            ease: "power2.out"
        });

        // ========================================
        // 2. PINNED ELEMENT: Pin and animate while scrolling
        // ========================================
        gsap.to("#pinned-box", {
            rotation: 360,
            scale: 1.5,
            backgroundColor: "#4ecca3",
            scrollTrigger: {
                trigger: ".pin-spacer-section",
                start: "top top",           // Pin starts when section hits top
                end: "bottom bottom",       // Pin ends when section leaves
                pin: "#pin-target",         // Element to pin
                scrub: true,                // Smooth animation tied to scroll
                markers: true               // Show debug markers
            }
        });

        // ========================================
        // 3. STAGGERED TEXT: Lines appear one by one
        // ========================================
        gsap.to(".stagger-item", {
            opacity: 1,
            y: 0,
            stagger: 0.3,                   // 0.3s delay between each
            scrollTrigger: {
                trigger: ".stagger-section",
                start: "top center",
                end: "center center",
                scrub: 1,
                markers: true
            }
        });

        // ========================================
        // 4. CARDS: Fade in from bottom
        // ========================================
        gsap.utils.toArray(".card").forEach(card => {
            gsap.to(card, {
                opacity: 1,
                y: 0,
                duration: 1,
                scrollTrigger: {
                    trigger: card,
                    start: "top 80%",       // Start when card is 80% down viewport
                    end: "top 50%",
                    toggleActions: "play none none reverse",  // play on enter, reverse on leave
                    markers: true
                }
            });
        });

        // ========================================
        // 5. HORIZONTAL SCROLL: Scroll panels horizontally
        // ========================================
        const horizontalContainer = document.querySelector(".horizontal-container");
        const panels = gsap.utils.toArray(".panel");
        
        gsap.to(horizontalContainer, {
            x: () => -(horizontalContainer.scrollWidth - window.innerWidth),
            ease: "none",
            scrollTrigger: {
                trigger: ".horizontal-section",
                start: "top top",
                end: () => `+=${horizontalContainer.scrollWidth}`,
                pin: true,
                scrub: 1,
                markers: true,
                anticipatePin: 1
            }
        });

        // ========================================
        // 6. COUNTER: Animate number from 0 to 100
        // ========================================
        gsap.to("#counter", {
            innerText: 100,
            snap: { innerText: 1 },         // Snap to whole numbers
            scrollTrigger: {
                trigger: ".counter-section",
                start: "top center",
                end: "bottom center",
                scrub: 1,
                markers: true
            }
        });

        // ========================================
        // BONUS: Parallax effect on hero
        // ========================================
        gsap.to(".hero", {
            yPercent: 50,
            ease: "none",
            scrollTrigger: {
                trigger: ".hero",
                start: "top top",
                end: "bottom top",
                scrub: true
            }
        });

    </script>
</body>
</html>
